# 🎯 MBO評価管理システム

現代的でユーザーフレンドリーなMBO（目標管理制度）評価管理アプリケーションです。Streamlitベースで構築され、Claude AIを活用した報告書生成機能を備えています。

## ✨ 主な機能

### 🎯 目標管理
- **目標設定**: 可変項目数の目標を設定可能
- **重要度設定**: 1-10の重要度レベル設定
- **期日管理**: 各目標の期日設定と追跡
- **詳細説明**: 目標の具体的な内容記述

### 📝 達成内容管理
- **複数達成項目**: 各目標に対して複数の達成項目を管理
- **達成率管理**: 各項目の達成率を個別に設定
- **編集・削除**: 達成項目の編集と削除が可能
- **進捗追跡**: リアルタイムでの達成状況更新

### 📊 可視化・分析
- **達成率表示**: 全体および個別目標の達成率
- **インタラクティブグラフ**: 
  - 達成率円グラフ
  - 目標別達成状況棒グラフ
  - 重要度分布グラフ
  - 進捗ゲージチャート
- **詳細テーブル**: 目標別の詳細状況表示

### 📋 AI報告書生成
- **Claude AI連携**: Anthropic Claude APIを使用
- **3つのトーン選択**: 
  - ポジティブ（称賛重視）
  - バランス（客観的評価）
  - 厳しめ（改善点重視）
- **自動文章生成**: 300-500文字の構造化された報告書
- **エクスポート機能**: テキスト・JSON形式でダウンロード

### 📄 結果出力
- **CSVエクスポート**: サマリー形式と詳細形式
- **Excelエクスポート**: Excelファイル形式での出力
- **プレビュー機能**: エクスポート前の確認
- **複数期間対応**: 任意の期間を選択してエクスポート

### 📅 期間管理
- **複数期間対応**: 四半期、年度など複数期間の管理
- **期間切り替え**: 簡単な期間間の切り替え
- **履歴保持**: 過去の評価データの保持

### 💾 データ管理
- **自動保存**: JSON形式でのローカルデータ保存
- **バックアップ機能**: データのエクスポート・インポート
- **データ永続化**: セッション間でのデータ保持

## 🏗️ システム構成

```
mbo_app/
├── main.py                      # メインアプリケーション（シンプル化）
├── requirements.txt             # 依存関係
├── README.md                    # このファイル
├── mbo_data.json               # データファイル
├── models/
│   ├── __init__.py
│   └── data_manager.py         # データ管理クラス
├── utils/
│   ├── __init__.py
│   ├── claude_api.py           # Claude API処理
│   └── charts.py               # グラフ生成
├── config/
│   ├── __init__.py
│   └── settings.py             # 設定・定数管理
└── ui/
    ├── __init__.py
    ├── base.py                 # UI基底クラス
    ├── sidebar.py              # サイドバー管理
    ├── components/
    │   ├── __init__.py
    │   ├── custom_css.py       # カスタムCSS
    │   └── metrics.py          # メトリクス表示
    └── tabs/
        ├── __init__.py
        ├── goal_setting.py     # 目標設定タブ
        ├── achievement_input.py # 達成内容入力タブ
        ├── progress.py         # 進捗確認タブ
        ├── report_generation.py # 報告書生成タブ
        ├── csv_export.py       # 結果出力タブ
        └── settings.py         # 設定タブ
```

## 🚀 セットアップ手順

### 1. 必要なソフトウェア
- Python 3.8以上
- pip (Pythonパッケージマネージャー)

### 2. 依存関係のインストール
```bash
# ディレクトリに移動
cd C:\work\mbo_app

# 必要なパッケージをインストール
pip install -r requirements.txt
```

### 3. Claude APIキーの取得
1. [Anthropic Console](https://console.anthropic.com/)にアクセス
2. アカウントを作成またはログイン
3. APIキーを生成
4. アプリケーション内の「設定」タブでAPIキーを入力

### 4. アプリケーションの起動
```bash
# Streamlitアプリケーションを起動
streamlit run main.py
もしくは python -m streamlit run main.py
```

### 5. ブラウザでアクセス
- 自動的にブラウザが開きます（通常 http://localhost:8501）
- 開かない場合は、ターミナルに表示されるURLにアクセス

## 📖 使用方法

### 初回セットアップ
1. **期間作成**: サイドバーから新しい期間（例：2024年Q1）を作成
2. **APIキー設定**: 設定タブでClaude APIキーを入力
3. **目標設定**: 目標設定タブで最初の目標を追加

### 日常の使用
1. **目標追加**: 必要に応じて新しい目標を追加
2. **達成内容入力**: 定期的に各目標の達成内容を更新
3. **進捗確認**: 進捗確認タブで現在の状況をチェック
4. **報告書生成**: 期末に報告書生成タブで評価報告書を作成
5. **結果出力**: CSVまたはExcel形式で結果をエクスポート

### データ管理
- **バックアップ**: 設定タブからデータをJSONファイルでエクスポート
- **復元**: JSONファイルからデータをインポート
- **期間切り替え**: サイドバーで異なる期間を選択

## 🔧 カスタマイズ

### 設定の変更
`config/settings.py`で以下の設定を変更可能：
- UI色設定
- Claude API設定
- バリデーション規則
- デフォルト値

### 新機能の追加
- `ui/tabs/`ディレクトリに新しいタブを追加
- `utils/`ディレクトリに新しいユーティリティモジュールを追加
- `models/`でデータ構造を拡張

## 🐛 トラブルシューティング

### よくある問題

#### Claude API関連
- **エラー**: 「APIキーが設定されていません」
  - **解決策**: 設定タブでClaude APIキーを正しく入力
- **エラー**: 「報告書の生成中にエラーが発生しました」
  - **解決策**: APIキーの有効性とクレジット残高を確認

#### データ関連
- **問題**: データが保存されない
  - **解決策**: アプリケーションに書き込み権限があることを確認
- **問題**: 期間が表示されない
  - **解決策**: サイドバーから新しい期間を作成

#### インストール関連
- **エラー**: パッケージがインストールできない
  - **解決策**: Python環境とpipのバージョンを確認
  - **代替案**: 仮想環境の使用を検討

### ログの確認
Streamlitアプリケーション実行時のターミナル出力でエラー詳細を確認できます。

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 サポート

質問や問題がある場合は、以下の方法でサポートを受けることができます：

### ドキュメント
- このREADMEファイル
- コード内のコメントとドキュメント文字列
- `config/settings.py`の設定詳細

### 自己診断
1. **API接続テスト**: 設定タブの「API接続テスト」ボタンを使用
2. **データ整合性**: データのエクスポート・インポートでデータ構造を確認
3. **ログ確認**: Streamlitターミナル出力のエラーメッセージを確認

## 🔄 更新履歴

### Version 2.0.0 (2025年5月)
- コード構造の大幅なリファクタリング
- 各機能を独立したモジュールに分離
- メンテナンス性の向上
- 複数達成項目の管理機能追加

### Version 1.0.0 (2025年5月)
- 初回リリース
- 基本的なMBO管理機能
- Claude AI報告書生成
- 進捗可視化
- データインポート・エクスポート

## 🚀 今後の機能拡張予定

- **通知機能**: 期日アラートとリマインダー
- **チーム機能**: 複数ユーザーでの共有・協業
- **テンプレート**: 業界・職種別の目標テンプレート
- **詳細分析**: より高度な統計分析とレポート
- **API連携**: 他のシステムとの連携機能

## 📊 技術仕様

### 使用技術
- **フロントエンド**: Streamlit
- **バックエンド**: Python
- **データストレージ**: JSON (ローカルファイル)
- **可視化**: Plotly
- **AI**: Anthropic Claude API

### パフォーマンス
- **起動時間**: 約3-5秒
- **データ処理**: 1000目標まで快適に動作
- **レスポンス時間**: Claude API呼び出し時は5-15秒

### セキュリティ
- **データ保存**: ローカルマシンのみ
- **API通信**: HTTPS暗号化
- **認証情報**: ローカル保存（設定で削除可能）

## 💡 ベストプラクティス

### 効果的な目標設定
1. **SMART原則**: 具体的、測定可能、達成可能、関連性、期限
2. **重要度設定**: バランスよく重要度を分散
3. **定期更新**: 週次または月次での達成内容更新

### データ管理
1. **定期バックアップ**: 月次でのデータエクスポート推奨
2. **期間管理**: 四半期または半期での期間区切り
3. **詳細記録**: 具体的で詳細な達成内容記録

### 報告書活用
1. **複数トーン**: 用途に応じたトーン選択
2. **定期生成**: 月次での中間報告書生成
3. **フィードバック**: 上司・同僚との共有活用

---

**開発者**: Claude AI  
**最終更新**: 2025年5月29日  
**バージョン**: 2.0.0
